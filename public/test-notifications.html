<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba del Sistema de Notificaciones</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body { font-family: 'Open Sans', sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .btn { margin: 5px; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-success { background: #198754; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-warning { background: #ffc107; color: black; }
        .btn-info { background: #0dcaf0; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
    </style>
</head>
<body>
    <h1>Prueba del Sistema de Notificaciones</h1>

    <div class="test-section">
        <h3>Botones de Prueba</h3>
        <button class="btn btn-success" onclick="testSuccess()">Notificación de Éxito</button>
        <button class="btn btn-danger" onclick="testError()">Notificación de Error</button>
        <button class="btn btn-warning" onclick="testWarning()">Notificación de Advertencia</button>
        <button class="btn btn-info" onclick="testInfo()">Notificación de Información</button>
        <button class="btn btn-secondary" onclick="testAll()">Probar Todas</button>
        <button class="btn" style="background: #6f42c1; color: white;" onclick="debugSystem()">Debug Sistema</button>
    </div>

    <div class="test-section">
        <h3>Información del Sistema</h3>
        <p><strong>Bootstrap disponible:</strong> <span id="bootstrap-status">Verificando...</span></p>
        <p><strong>FontAwesome disponible:</strong> <span id="fa-status">Verificando...</span></p>
        <p><strong>Sistema de notificaciones:</strong> <span id="system-status">Verificando...</span></p>
    </div>

    <script src="js/notifications.js"></script>
    <script>
        function testSuccess() {
            console.log('Testing success notification...');
            NotificationSystem.success('¡Operación completada exitosamente! Los datos se han guardado correctamente.');
        }

        function testError() {
            console.log('Testing error notification...');
            NotificationSystem.error('Ha ocurrido un error inesperado. Por favor, inténtelo de nuevo más tarde.');
        }

        function testWarning() {
            console.log('Testing warning notification...');
            NotificationSystem.warning('Advertencia: Esta acción no se puede deshacer. ¿Está seguro?');
        }

        function testInfo() {
            console.log('Testing info notification...');
            NotificationSystem.info('Información: El sistema se actualizará automáticamente en 5 minutos.');
        }

        function testAll() {
            console.log('Testing all notifications...');
            setTimeout(() => NotificationSystem.success('Éxito - Primer mensaje'), 0);
            setTimeout(() => NotificationSystem.error('Error - Segundo mensaje'), 1000);
            setTimeout(() => NotificationSystem.warning('Advertencia - Tercer mensaje'), 2000);
            setTimeout(() => NotificationSystem.info('Info - Cuarto mensaje'), 3000);
        }

        function debugSystem() {
            console.log('=== DEBUG SYSTEM ===');
            console.log('NotificationSystem:', typeof NotificationSystem);
            console.log('notificationSystem instance:', window.notificationSystem);
            console.log('Container exists:', !!document.querySelector('.notification-container'));
            console.log('Bootstrap available:', typeof bootstrap !== 'undefined');
            console.log('Toast available:', typeof bootstrap !== 'undefined' && !!bootstrap.Toast);

            const container = document.querySelector('.notification-container');
            if (container) {
                console.log('Container children:', container.children.length);
                console.log('Container styles:', container.style.cssText);
            }
        }

        // Verificar estado del sistema
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('bootstrap-status').textContent =
                    (typeof bootstrap !== 'undefined') ? '✅ Disponible' : '❌ No disponible';

                document.getElementById('fa-status').textContent =
                    (document.querySelector('.fa') !== null || typeof FontAwesome !== 'undefined') ?
                    '✅ Disponible' : '❌ No disponible';

                document.getElementById('system-status').textContent =
                    (typeof NotificationSystem !== 'undefined') ? '✅ Cargado' : '❌ No cargado';

                // Auto-debug
                debugSystem();
            }, 500);
        });
    </script>
</body>
</html>